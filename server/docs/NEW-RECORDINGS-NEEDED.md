# הקלטות חדשות נדרשות - עדכון חוויית משתמש

## תאריך: 19 אוקטובר 2025

לאחר עדכון התסריטים לשיפור חוויית המשתמש, נדרשות ההקלטות הבאות:

---

## הקלטות טיפול בשגיאות (Error Handling)

### 090 - invalid_direction_retry
**תוכן ההודעה:**
"הקשה שגויה. אנא הקישו 1 ליוצא מהיישוב או 2 לכיוון היישוב."

**הקשר:** כשמשתמש מקיש מספר שגוי בבחירת כיוון הנסיעה

---

### 091 - invalid_date_option_retry
**תוכן ההודעה:**
"אפשרות לא חוקית. אנא הקישו 1 להיום, 2 למחר, או 3 לתאריך אחר."

**הקשר:** כשמשתמש מקיש מספר שגוי בבחירת תאריך

---

### 092 - invalid_time_format
**תוכן ההודעה:**
"פורמט שעה שגוי. אנא הזינו 4 ספרות בפורמט שעות ודקות, לדוגמה 1430 עבור השעה שתיים וחצי אחר הצהריים."

**הקשר:** כשמשתמש מזין שעה בפורמט שגוי

---

### 093 - time_must_be_later
**תוכן ההודעה:**
"השעה המאוחרת חייבת להיות אחרי השעה המוקדמת. אנא הזינו שעה מאוחרת יותר."

**הקשר:** כשמשתמש מזין שעה מאוחרת שהיא לפני השעה המוקדמת בבקשת נסיעה

---

### 094 - time_outside_range
**תוכן ההודעה:**
"השעה המועדפת חייבת להיות בין השעה המוקדמת לשעה המאוחרת שהזנתם. אנא הזינו שעה בטווח הנכון או הקישו כוכבית כדי לדלג."

**הקשר:** כשמשתמש מזין שעה מועדפת מחוץ לטווח הזמנים שהגדיר

---

### 095 - invalid_passenger_count
**תוכן ההודעה:**
"הקשה שגויה. אנא הקישו ספרה אחת בין 0 ל-9."

**הקשר:** כשמשתמש מזין מספר לא תקין לכמות נוסעים/מושבים

---

### 096 - session_expired_restart
**תוכן ההודעה:**
"מצטערים, הפגישה פגה. אנחנו מתחילים מחדש. אנא המתינו."

**הקשר:** כשהמערכת מאבדת את המידע מה-session והיא צריכה להתחיל מחדש

---

## סיכום

סה"כ **7 הקלטות חדשות** נדרשות עבור טיפול טוב יותר בשגיאות.

כל ההקלטות צריכות להיות:
- בעברית ברורה
- בטון ידידותי ומנומס
- באורך סביר (לא יותר מ-10 שניות)
- בפורמט MP3
- במיקום: `server/public/audio/he/`

---

## הוראות ליצירת ההקלטות

1. השתמשו בדובר עברית ילידי
2. הקליטו בסביבה שקטה
3. שמרו את הקבצים כ-MP3 עם שמות הקבצים: 090.mp3, 091.mp3, וכו'
4. העתיקו לתיקייה: `server/public/audio/he/`
5. עדכנו את `server/public/audio/he/dictionary.json` בהתאם

---

## שיפורים נוספים שנעשו בקוד

1. **טיפול עקבי בשגיאות** - כל נקודת קלט מטפלת כעת בהזנה שגויה עם הודעה ברורה והזדמנות לנסות שוב
2. **אימות משופר** - בדיקות טובות יותר עבור תאריכים, שעות, וכמויות
3. **רצף ברור** - המשתמש תמיד יודע איפה הוא נמצא ומה לעשות הלאה
4. **מניעת קריסות** - בדיקת session ומצב הנתונים לפני כל פעולה קריטית
5. **הודעות מותאמות** - כל שגיאה מקבלת הודעה ספציפית במקום הודעה גנרית

---

## דוגמאות לרצף משופר

### דוגמה 1: הזנת כיוון שגוי
```
משתמש מקיש: 5
מערכת משמיעה: "הקשה שגויה. אנא הקישו 1 ליוצא מהיישוב או 2 לכיוון היישוב."
[ממתינה להקשה נוספת במקום לסגור או לחזור להתחלה]
```

### דוגמה 2: שעה מאוחרת לפני שעה מוקדמת
```
משתמש הזין שעה מוקדמת: 1430
משתמש הזין שעה מאוחרת: 1200
מערכת משמיעה: "השעה המאוחרת חייבת להיות אחרי השעה המוקדמת. אנא הזינו שעה מאוחרת יותר."
[מבקשת שוב את השעה המאוחרת]
```

### דוגמה 3: שעה מועדפת מחוץ לטווח
```
משתמש הזין טווח: 1200-1600
משתמש הזין שעה מועדפת: 1800
מערכת משמיעה: "השעה המועדפת חייבת להיות בין השעה המוקדמת לשעה המאוחרת שהזנתם..."
[נותנת אפשרות לנסות שוב או לדלג]
```

---

## פעולות מומלצות לאחר יצירת ההקלטות

1. בדקו כל נתיב בודד - נסו להזין נתונים שגויים בכל שלב
2. ודאו שההודעות ברורות ומובנות
3. בדקו שהרצף לוגי וטבעי
4. ודאו שאין מצבים שבהם המערכת "תקועה"
5. בדקו שהמשתמש תמיד יכול לחזור או להמשיך

---
