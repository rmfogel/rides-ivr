// מ// ממיר טקסטים בעברית לגרסאות תואמות לטוויליו
// בחלק מהמקרים, טוויליו מתקשה לעבוד עם עברית מלאה
// ולכן אנחנו מספקים חלופות פשוטות יותר או משולבות אנגליתד להחלפת הודעות עברית בהודעות תואמות לטוויליו
// Use this file to convert Hebrew texts to Twilio-friendly alternatives

/**
 * ממיר טקסטים בעברית לגרסאות תואמות לטוויליו
 * בחלק מהמקרים, טוויליו מתקשה לעבוד עם עברית מלאה
 * ולכן אנחנו מספקים חלxxxxxxxxxות יותר או משולבות אנגלית
 * 
 * למשל:
 * - שימוש במספרים במקום מילים ("1" במקום "אחד")
 * - שימוש בפיסוק פשוט יותר
 * - במקרים קיצוניים, שילוב אנגלית
 */

const TWILIO_COMPATIBLE_HEBREW = {
  // תפריט ראשי
  "ברוכים הבאים לשירות הנסיעות.": "ברוכים הבאים לשירות",
  "לנהג הקש 1. לנוסע הקש 2. לניהול הקש 3.": "לנהג הקש 1 לנוסע הקש 2 לניהול הקש 3",
  
  // הודעות נהג
  "שלום נהג, אנו שמחים לראות אותך.": "שלום נהג",
  "להצעת נסיעה הקש 1. לבדיקת התאמות הקש 2. לביטול נסיעה הקש 3.": 
    "להצעת נסיעה הקש 1 לבדיקת התאמות הקש 2 לביטול נסיעה הקש 3",
  "בחר את כיוון הנסיעה: מהפריפריה למרכז הקש 1, מהמרכז לפריפריה הקש 2.":
    "לנסיעה מהפריפריה למרכז הקש 1 מהמרכז לפריפריה הקש 2",
  
  // הודעות נוסע
  "שלום נוסע, אנו שמחים לראות אותך.": "שלום נוסע",
  "לבקשת נסיעה הקש 1. לבדיקת התאמות הקש 2. לביטול נסיעה הקש 3.":
    "לבקשת נסיעה הקש 1 לבדיקת התאמות הקש 2 לביטול נסיעה הקש 3",
    
  // הודעות שגיאה
  "קלט לא תקין.": "קלט לא תקין",
  
  // מספרי טלפון
  "מספר הטלפון של הנהג הוא:": "מספר הטלפון",
  
  // הודעות סיום
  "תודה שהשתמשת בשירות שלנו. להתראות.": "תודה להתראות"
};

/**
 * ממיר טקסט עברי לגרסה תואמת טוויליו
 * @param {string} text - טקסט בעברית
 * @returns {string} - טקסט מותאם לטוויליו
 */
export function convertToTwilioFriendlyHebrew(text) {
  // בדיקה אם יש תרגום מוגדר מראש
  if (TWILIO_COMPATIBLE_HEBREW[text]) {
    return TWILIO_COMPATIBLE_HEBREW[text];
  }
  
  // אם אין תרגום מוגדר, עשה כמה התאמות כלליות
  let modified = text
    // הסרת סימני פיסוק מסוימים שיכולים לגרום לבעיות
    .replace(/[.:;]/g, ' ')
    // החלפת רווחים כפולים ברווח בודד
    .replace(/\s+/g, ' ')
    // הסרת רווחים בקצוות
    .trim();
    
  return modified;
}

export default {
  TWILIO_COMPATIBLE_HEBREW,
  convertToTwilioFriendlyHebrew
};